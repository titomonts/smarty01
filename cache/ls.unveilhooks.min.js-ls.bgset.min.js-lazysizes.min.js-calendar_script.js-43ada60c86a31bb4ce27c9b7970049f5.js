/*
sacy javascript cache dump 

This dump has been created from the following files:
    - <root>/resources/theylangylang/lazysizes/ls.unveilhooks.min.js
    - <root>/resources/theylangylang/lazysizes/ls.bgset.min.js
    - <root>/resources/theylangylang/lazysizes/lazysizes.min.js
    - <root>/js/calendar_script.js
*/


/* <root>/resources/theylangylang/lazysizes/ls.unveilhooks.min.js */
!function(a,b){"use strict";function c(a,c){if(!f[a]){var d=b.createElement(c?"link":"script"),e=b.getElementsByTagName("script")[0];c?(d.rel="stylesheet",d.href=a):d.src=a,f[a]=!0,f[d.src||d.href]=!0,e.parentNode.insertBefore(d,e)}}var d,e,f={};b.addEventListener&&(e=/\(|\)|\s|'/,d=function(a,c){var d=b.createElement("img");d.onload=function(){d.onload=null,d.onerror=null,d=null,c()},d.onerror=d.onload,d.src=a,d&&d.complete&&d.onload&&d.onload()},addEventListener("lazybeforeunveil",function(a){var b,f,g,h;a.defaultPrevented||("none"==a.target.preload&&(a.target.preload="auto"),b=a.target.getAttribute("data-link"),b&&c(b,!0),b=a.target.getAttribute("data-script"),b&&c(b),b=a.target.getAttribute("data-require"),b&&(lazySizes.cfg.requireJs?lazySizes.cfg.requireJs([b]):c(b)),g=a.target.getAttribute("data-bg"),g&&(a.detail.firesLoad=!0,f=function(){a.target.style.backgroundImage="url("+(e.test(g)?JSON.stringify(g):g)+")",a.detail.firesLoad=!1,lazySizes.fire(a.target,"_lazyloaded",{},!0,!0)},d(g,f)),h=a.target.getAttribute("data-poster"),h&&(a.detail.firesLoad=!0,f=function(){a.target.poster=h,a.detail.firesLoad=!1,lazySizes.fire(a.target,"_lazyloaded",{},!0,!0)},d(h,f)))},!1))}(window,document);
/* <root>/resources/theylangylang/lazysizes/ls.bgset.min.js */
!function(){"use strict";if(window.addEventListener){var a=/\s+/g,b=/\s*\|\s+|\s+\|\s*/g,c=/^(.+?)(?:\s+\[\s*(.+?)\s*\])?$/,d=/\(|\)|'/,e={contain:1,cover:1},f=function(a){var b=lazySizes.gW(a,a.parentNode);return(!a._lazysizesWidth||b>a._lazysizesWidth)&&(a._lazysizesWidth=b),a._lazysizesWidth},g=function(a){var b;return b=(getComputedStyle(a)||{getPropertyValue:function(){}}).getPropertyValue("background-size"),!e[b]&&e[a.style.backgroundSize]&&(b=a.style.backgroundSize),b},h=function(d,e,f){var g=document.createElement("picture"),h=e.getAttribute(lazySizesConfig.sizesAttr),i=e.getAttribute("data-ratio"),j=e.getAttribute("data-optimumx");e._lazybgset&&e._lazybgset.parentNode==e&&e.removeChild(e._lazybgset),Object.defineProperty(f,"_lazybgset",{value:e,writable:!0}),Object.defineProperty(e,"_lazybgset",{value:g,writable:!0}),d=d.replace(a," ").split(b),g.style.display="none",f.className=lazySizesConfig.lazyClass,1!=d.length||h||(h="auto"),d.forEach(function(a){var b=document.createElement("source");h&&"auto"!=h&&b.setAttribute("sizes",h),a.match(c)&&(b.setAttribute(lazySizesConfig.srcsetAttr,RegExp.$1),RegExp.$2&&b.setAttribute("media",lazySizesConfig.customMedia[RegExp.$2]||RegExp.$2)),g.appendChild(b)}),h&&(f.setAttribute(lazySizesConfig.sizesAttr,h),e.removeAttribute(lazySizesConfig.sizesAttr),e.removeAttribute("sizes")),j&&f.setAttribute("data-optimumx",j),i&&f.setAttribute("data-ratio",i),g.appendChild(f),e.appendChild(g)},i=function(a){if(a.target._lazybgset){var b=a.target,c=b._lazybgset,e=b.currentSrc||b.src;e&&(c.style.backgroundImage="url("+(d.test(e)?JSON.stringify(e):e)+")"),b._lazybgsetLoading&&(lazySizes.fire(c,"_lazyloaded",{},!1,!0),delete b._lazybgsetLoading)}};addEventListener("lazybeforeunveil",function(a){var b,c,d;!a.defaultPrevented&&(b=a.target.getAttribute("data-bgset"))&&(d=a.target,c=document.createElement("img"),c.alt="",c._lazybgsetLoading=!0,a.detail.firesLoad=!0,h(b,d,c),setTimeout(function(){lazySizes.loader.unveil(c),lazySizes.rAF(function(){lazySizes.fire(c,"_lazyloaded",{},!0,!0),c.complete&&i({target:c})})}))}),document.addEventListener("load",i,!0),window.addEventListener("lazybeforesizes",function(a){if(a.target._lazybgset&&a.detail.dataAttr){var b=a.target._lazybgset,c=g(b);e[c]&&(a.target._lazysizesParentFit=c,lazySizes.rAF(function(){a.target.setAttribute("data-parent-fit",c),a.target._lazysizesParentFit&&delete a.target._lazysizesParentFit}))}},!0),document.documentElement.addEventListener("lazybeforesizes",function(a){!a.defaultPrevented&&a.target._lazybgset&&(a.detail.width=f(a.target._lazybgset))})}}();
/* <root>/resources/theylangylang/lazysizes/lazysizes.min.js */
!function(a,b){var c=b(a,a.document);a.lazySizes=c,"object"==typeof module&&module.exports&&(module.exports=c)}(window,function(a,b){"use strict";if(b.getElementsByClassName){var c,d=b.documentElement,e=a.Date,f=a.HTMLPictureElement,g="addEventListener",h="getAttribute",i=a[g],j=a.setTimeout,k=a.requestAnimationFrame||j,l=a.requestIdleCallback,m=/^picture$/i,n=["load","error","lazyincluded","_lazyloaded"],o={},p=Array.prototype.forEach,q=function(a,b){return o[b]||(o[b]=new RegExp("(\\s|^)"+b+"(\\s|$)")),o[b].test(a[h]("class")||"")&&o[b]},r=function(a,b){q(a,b)||a.setAttribute("class",(a[h]("class")||"").trim()+" "+b)},s=function(a,b){var c;(c=q(a,b))&&a.setAttribute("class",(a[h]("class")||"").replace(c," "))},t=function(a,b,c){var d=c?g:"removeEventListener";c&&t(a,b),n.forEach(function(c){a[d](c,b)})},u=function(a,c,d,e,f){var g=b.createEvent("CustomEvent");return g.initCustomEvent(c,!e,!f,d||{}),a.dispatchEvent(g),g},v=function(b,d){var e;!f&&(e=a.picturefill||c.pf)?e({reevaluate:!0,elements:[b]}):d&&d.src&&(b.src=d.src)},w=function(a,b){return(getComputedStyle(a,null)||{})[b]},x=function(a,b,d){for(d=d||a.offsetWidth;d<c.minSize&&b&&!a._lazysizesWidth;)d=b.offsetWidth,b=b.parentNode;return d},y=function(){var a,c,d=[],e=[],f=d,g=function(){var b=f;for(f=d.length?e:d,a=!0,c=!1;b.length;)b.shift()();a=!1},h=function(d,e){a&&!e?d.apply(this,arguments):(f.push(d),c||(c=!0,(b.hidden?j:k)(g)))};return h._lsFlush=g,h}(),z=function(a,b){return b?function(){y(a)}:function(){var b=this,c=arguments;y(function(){a.apply(b,c)})}},A=function(a){var b,c=0,d=125,f=666,g=f,h=function(){b=!1,c=e.now(),a()},i=l?function(){l(h,{timeout:g}),g!==f&&(g=f)}:z(function(){j(h)},!0);return function(a){var f;(a=a===!0)&&(g=44),b||(b=!0,f=d-(e.now()-c),0>f&&(f=0),a||9>f&&l?i():j(i,f))}},B=function(a){var b,c,d=99,f=function(){b=null,a()},g=function(){var a=e.now()-c;d>a?j(g,d-a):(l||f)(f)};return function(){c=e.now(),b||(b=j(g,d))}},C=function(){var f,k,l,n,o,x,C,E,F,G,H,I,J,K,L,M=/^img$/i,N=/^iframe$/i,O="onscroll"in a&&!/glebot/.test(navigator.userAgent),P=0,Q=0,R=0,S=-1,T=function(a){R--,a&&a.target&&t(a.target,T),(!a||0>R||!a.target)&&(R=0)},U=function(a,c){var e,f=a,g="hidden"==w(b.body,"visibility")||"hidden"!=w(a,"visibility");for(F-=c,I+=c,G-=c,H+=c;g&&(f=f.offsetParent)&&f!=b.body&&f!=d;)g=(w(f,"opacity")||1)>0,g&&"visible"!=w(f,"overflow")&&(e=f.getBoundingClientRect(),g=H>e.left&&G<e.right&&I>e.top-1&&F<e.bottom+1);return g},V=function(){var a,e,g,i,j,m,n,p,q;if((o=c.loadMode)&&8>R&&(a=f.length)){e=0,S++,null==K&&("expand"in c||(c.expand=d.clientHeight>500&&d.clientWidth>500?500:370),J=c.expand,K=J*c.expFactor),K>Q&&1>R&&S>2&&o>2&&!b.hidden?(Q=K,S=0):Q=o>1&&S>1&&6>R?J:P;for(;a>e;e++)if(f[e]&&!f[e]._lazyRace)if(O)if((p=f[e][h]("data-expand"))&&(m=1*p)||(m=Q),q!==m&&(C=innerWidth+m*L,E=innerHeight+m,n=-1*m,q=m),g=f[e].getBoundingClientRect(),(I=g.bottom)>=n&&(F=g.top)<=E&&(H=g.right)>=n*L&&(G=g.left)<=C&&(I||H||G||F)&&(l&&3>R&&!p&&(3>o||4>S)||U(f[e],m))){if(ba(f[e]),j=!0,R>9)break}else!j&&l&&!i&&4>R&&4>S&&o>2&&(k[0]||c.preloadAfterLoad)&&(k[0]||!p&&(I||H||G||F||"auto"!=f[e][h](c.sizesAttr)))&&(i=k[0]||f[e]);else ba(f[e]);i&&!j&&ba(i)}},W=A(V),X=function(a){r(a.target,c.loadedClass),s(a.target,c.loadingClass),t(a.target,Z)},Y=z(X),Z=function(a){Y({target:a.target})},$=function(a,b){try{a.contentWindow.location.replace(b)}catch(c){a.src=b}},_=function(a){var b,d,e=a[h](c.srcsetAttr);(b=c.customMedia[a[h]("data-media")||a[h]("media")])&&a.setAttribute("media",b),e&&a.setAttribute("srcset",e),b&&(d=a.parentNode,d.insertBefore(a.cloneNode(),a),d.removeChild(a))},aa=z(function(a,b,d,e,f){var g,i,k,l,o,q;(o=u(a,"lazybeforeunveil",b)).defaultPrevented||(e&&(d?r(a,c.autosizesClass):a.setAttribute("sizes",e)),i=a[h](c.srcsetAttr),g=a[h](c.srcAttr),f&&(k=a.parentNode,l=k&&m.test(k.nodeName||"")),q=b.firesLoad||"src"in a&&(i||g||l),o={target:a},q&&(t(a,T,!0),clearTimeout(n),n=j(T,2500),r(a,c.loadingClass),t(a,Z,!0)),l&&p.call(k.getElementsByTagName("source"),_),i?a.setAttribute("srcset",i):g&&!l&&(N.test(a.nodeName)?$(a,g):a.src=g),(i||l)&&v(a,{src:g})),a._lazyRace&&delete a._lazyRace,s(a,c.lazyClass),y(function(){(!q||a.complete&&a.naturalWidth>1)&&(q?T(o):R--,X(o))},!0)}),ba=function(a){var b,d=M.test(a.nodeName),e=d&&(a[h](c.sizesAttr)||a[h]("sizes")),f="auto"==e;(!f&&l||!d||!a.src&&!a.srcset||a.complete||q(a,c.errorClass))&&(b=u(a,"lazyunveilread").detail,f&&D.updateElem(a,!0,a.offsetWidth),a._lazyRace=!0,R++,aa(a,b,f,e,d))},ca=function(){if(!l){if(e.now()-x<999)return void j(ca,999);var a=B(function(){c.loadMode=3,W()});l=!0,c.loadMode=3,W(),i("scroll",function(){3==c.loadMode&&(c.loadMode=2),a()},!0)}};return{_:function(){x=e.now(),f=b.getElementsByClassName(c.lazyClass),k=b.getElementsByClassName(c.lazyClass+" "+c.preloadClass),L=c.hFac,i("scroll",W,!0),i("resize",W,!0),a.MutationObserver?new MutationObserver(W).observe(d,{childList:!0,subtree:!0,attributes:!0}):(d[g]("DOMNodeInserted",W,!0),d[g]("DOMAttrModified",W,!0),setInterval(W,999)),i("hashchange",W,!0),["focus","mouseover","click","load","transitionend","animationend","webkitAnimationEnd"].forEach(function(a){b[g](a,W,!0)}),/d$|^c/.test(b.readyState)?ca():(i("load",ca),b[g]("DOMContentLoaded",W),j(ca,2e4)),f.length?(V(),y._lsFlush()):W()},checkElems:W,unveil:ba}}(),D=function(){var a,d=z(function(a,b,c,d){var e,f,g;if(a._lazysizesWidth=d,d+="px",a.setAttribute("sizes",d),m.test(b.nodeName||""))for(e=b.getElementsByTagName("source"),f=0,g=e.length;g>f;f++)e[f].setAttribute("sizes",d);c.detail.dataAttr||v(a,c.detail)}),e=function(a,b,c){var e,f=a.parentNode;f&&(c=x(a,f,c),e=u(a,"lazybeforesizes",{width:c,dataAttr:!!b}),e.defaultPrevented||(c=e.detail.width,c&&c!==a._lazysizesWidth&&d(a,f,e,c)))},f=function(){var b,c=a.length;if(c)for(b=0;c>b;b++)e(a[b])},g=B(f);return{_:function(){a=b.getElementsByClassName(c.autosizesClass),i("resize",g)},checkElems:g,updateElem:e}}(),E=function(){E.i||(E.i=!0,D._(),C._())};return function(){var b,d={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2};c=a.lazySizesConfig||a.lazysizesConfig||{};for(b in d)b in c||(c[b]=d[b]);a.lazySizesConfig=c,j(function(){c.init&&E()})}(),{cfg:c,autoSizer:D,loader:C,init:E,uP:v,aC:r,rC:s,hC:q,fire:u,gW:x,rAF:y}}});
/* <root>/js/calendar_script.js */

jQuery(function(){jQuery(document).ready(function(){jQuery('.availability_calendar_checker').each(function(index){if(typeof jQuery().datepicker==='function'){var aday=86400000;var today=new Date();var tomorrow=new Date(today.getTime()+aday);var minDate=false;var maxDate=false;var $this=jQuery(this).find('form');$this.find(".availability_calendar_input:first input").datepicker({dateFormat:'dd M yy',changeMonth:false,changeYear:false,minDate:today,onSelect:function(date){var dt2=$this.find(".availability_calendar_input:last input");minDate=$(this).datepicker('getDate');maxDate=dt2.datepicker('getDate');var nextDate=new Date(minDate.getTime()+aday);if(!maxDate||maxDate<minDate){dt2.datepicker('setDate',nextDate);}
dt2.datepicker('option','minDate',nextDate);},onClose:function(){var dt2=$this.find(".availability_calendar_input:last input");if(!maxDate&&minDate){dt2.datepicker("show");}}});var hasDate=$this.find(".availability_calendar_input:first input").val();if(hasDate){tomorrow=$this.find(".availability_calendar_input:first input").datepicker('getDate');}
$this.find(".availability_calendar_input:last input").datepicker({dateFormat:'dd M yy',changeMonth:false,changeYear:false,minDate:tomorrow});}else{console.log('Availability calendar requires jQuery and jQuery UI datepicker');}});var redirection;var url;var res_url;jQuery('.availability_calendar_checker form').bind('submit',function(e){var $this=jQuery(this);if($this.find(".availability_calendar_input:first input").val()&&$this.find(".availability_calendar_input:last input").val()){e.preventDefault();jQuery('.availability_calendar_popup').prependTo('body').find('.availability_calendar_popup_content, .availability_calendar_overlay').fadeIn();$.ajax({url:'/',data:{},success:function(result){redirection=setTimeout(function(){url='https://booking.elitehavens.com/booking.aspx?'+$this.serialize();jQuery('.availability_calendar_popup .availability_calendar_overlay, .availability_calendar_popup .availability_calendar_popup_content').fadeOut();window.location.href=url;},2000);}});}else{e.preventDefault();$this.find(".availability_calendar_input input").after('<div class="error-message">Please fill out this field.</div>');}});jQuery('a[href*=".html?villaid="]').bind('click',function(e){e.preventDefault();var $this=jQuery(this);var popup=jQuery('.availability_calendar_popup').clone();var parameters=$this.attr('href').split('?');var query=parameters[1];var qs=parse_query_string(query);var villaid=qs.villaid.split('|');for(var i=0;i<villaid.length;i++){villaid[i]='<a href="http://booking.elitehavens.com/booking.aspx?pid='+villaid[i]+'&curl='+qs.curl+'" class="availability_calendar_popup_btn">Book now</a>';}
var villaids=villaid.join('');if(!$('.availability_calendar_popup_options').size()){popup.find('.availability_calendar_popup_content').html(villaids);popup.removeClass('availability_calendar_redirect_popup').addClass('availability_calendar_popup_options').prependTo('body').find('.availability_calendar_popup_content, .availability_calendar_overlay').fadeIn();}else{$('.availability_calendar_popup_options').find('.availability_calendar_popup_content, .availability_calendar_overlay').fadeIn();}});jQuery('body').on('click','a[href^="http://booking.elitehavens.com/booking.aspx"]',function(e){e.preventDefault();var $this=jQuery(this);jQuery('.availability_calendar_popup_options').find('.availability_calendar_popup_content, .availability_calendar_overlay').fadeOut();jQuery('.availability_calendar_popup.availability_calendar_redirect_popup').prependTo('body').find('.availability_calendar_popup_content, .availability_calendar_overlay').fadeIn();$.ajax({url:'/',data:{},success:function(result){redirection=setTimeout(function(){res_url=$this.attr('href');url=res_url.replace("http:","https:");jQuery('.availability_calendar_popup .availability_calendar_overlay, .availability_calendar_popup .availability_calendar_popup_content').fadeOut();window.location.href=url;},2000);}});});jQuery('body').on('click','.availability_calendar_popup .availability_calendar_overlay',function(e){clearTimeout(redirection);jQuery('.availability_calendar_popup .availability_calendar_overlay, .availability_calendar_popup .availability_calendar_popup_content').fadeOut();});jQuery('.availability_link').each(function(e){days=3;var ci=new Date();var co=new Date();co.setDate(co.getDate()+days);insertParam('ci',formatDate(ci),'.availability_link a');insertParam('co',formatDate(co),'.availability_link a');});function replaceValidationUI(form){form.addEventListener("invalid",function(event){event.preventDefault();},true);form.addEventListener("submit",function(event){if(!this.checkValidity()){event.preventDefault();}});var submitButton=form.querySelector("button:not([type=button]), input[type=submit]");submitButton.addEventListener("click",function(event){var invalidFields=form.querySelectorAll(":invalid"),errorMessages=form.querySelectorAll(".error-message"),parent;for(var i=0;i<errorMessages.length;i++){errorMessages[i].parentNode.removeChild(errorMessages[i]);}
for(var i=0;i<invalidFields.length;i++){parent=invalidFields[i].parentNode;parent.insertAdjacentHTML("beforeend","<div class='error-message'>"+
invalidFields[i].validationMessage+"</div>");}
if(invalidFields.length>0){invalidFields[0].focus();}});}
var forms=document.querySelectorAll("form");for(var i=0;i<forms.length;i++){replaceValidationUI(forms[i]);}
function insertParam(key,value,param){key=encodeURI(key);value=encodeURI(value);var url=jQuery(param).attr('href').split('?');if(url.length>1){var kvp=url[1].split('&');var i=kvp.length;var x;while(i--)
{x=kvp[i].split('=');if(x[0]==key)
{x[1]=value;kvp[i]=x.join('=');break;}}
if(i<0){kvp[kvp.length]=[key,value].join('=');}
url[1]=kvp.join('&');jQuery(param).attr('href',url.join('?'));}}
function formatDate(date){var monthNames=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];var day=date.getDate();var monthIndex=date.getMonth();var year=date.getFullYear();return day+'+'+monthNames[monthIndex]+'+'+year;}
function parse_query_string(query){var vars=query.split("&");var query_string={};for(var i=0;i<vars.length;i++){var pair=vars[i].split("=");var key=decodeURIComponent(pair[0]);var value=decodeURIComponent(pair[1]);if(typeof query_string[key]==="undefined"){query_string[key]=decodeURIComponent(value);}else if(typeof query_string[key]==="string"){var arr=[query_string[key],decodeURIComponent(value)];query_string[key]=arr;}else{query_string[key].push(decodeURIComponent(value));}}
return query_string;}});});